{% extends "base.html.twig" %}


{% block body %}

    {% set questionTemplateNumber = 1 %}
    
         
        <div class="px-3">
            <div class=" mt-8 mx-12 text-4xl font-extrabold text-white mb-3">
                Template Generada
            </div>
            <div class="mx-5">
                {{ schema | raw }}
            </div>
            {{form_start(form_2)}}
                <div class="w-full h-full flex  grid justify-items-start">

                    
                    {{  
                        form_row(form_2.templateQuestion,{
                            'attr':{
                                'class':'mt-3 bg-gray-200 shadow appearance-none border border-red rounded py-2 px-3 text-grey-darker mb-2',
                                'placeholder':'Escribe aqui tu plantilla de query...',
                                'rows':'6',
                                'cols':'50'
                            },
                            'label_attr':{'class':'font-sans text-slate-100'},
                            'row_attr':{'class' : 'w-full grid px-3 pt-5'},
                            'label':'Plantilla de la template a editar:'
                        })
                    }}
                      
                    
                    <button type="submit" class="bg-green-500 text-white hover:bg-transparent text-white font-semibold hover:text-green py-2 px-8 border border-green-500 hover:border-green-500 rounded mb-6 ml-3">
                        Editar Template
                    </button>
                   
                </div>
            
            {{form_end(form_2)}}
            {{form_start(form)}}
            <div class="flex flex-col h-screen bg-slate-50 my-3">
                <div class="flex-grow overflow-auto">
                <table class="relative w-full border">
                    <thead class="sticky top-0">
                         <tr>
                            <th class="font-medium p-4 pl-8 pt-0 pb-3 text-slate-400 dark:text-slate-200 text-left bg-slate-50"></th>
                            <th class="font-medium p-4 pl-8 pt-0 pb-3 text-slate-400 dark:text-slate-200 text-left bg-slate-50">Template Questions</th>
                            <th class="font-medium p-4 pl-8 pt-0 pb-3 text-slate-400 dark:text-slate-200 text-left bg-slate-50">Query</th>
                            <th class="font-medium p-4 pl-8 pt-0 pb-3 text-slate-400 dark:text-slate-200 text-left bg-slate-50">Answer</th>
                            <th class="font-medium p-4 pl-8 pt-0 pb-3 text-slate-400 dark:text-slate-200 text-left bg-slate-50">
                                <button type="submit" class="bg-red-500 mt-7 text-white hover:bg-transparent text-red font-semibold hover:text-red-700 py-2 px-4 border border-transparent hover:border-red-500 rounded">
                                    Genera
                                </button>
                            </th>
                        </tr>
                    </thead>
                    <tbody class="bg-white dark:bg-slate-800">
                        {% for possibleQuery in form.answers %}      
                                <tr >
                                <td class="border-b border-slate-100 dark:border-slate-700 p-4 pl-8 text-slate-500 dark:text-slate-400">
                                    {{ form_widget(possibleQuery.selected)}}    
                                </td>
                                <td class="border-b border-slate-100 dark:border-slate-700 p-4 pl-8 text-slate-500 dark:text-slate-400">
                                    {{ form_widget(possibleQuery.statement, {
                                        'attr':{
                                            'class':'w-full',
                                            'rows':5
                                        }
                                    })}}  
                                </td>
                                <td class="border-b border-slate-100 dark:border-slate-700 p-4 pl-8 text-slate-500 dark:text-slate-400">
                                    {{ form_widget(possibleQuery.query, {
                                        'attr':{
                                            'class':'w-full h-full outline-0',
                                            'rows':5,
                                            'readonly':true
                                        }
                                    })}}  
                                </td>
                                <td class="border-b border-slate-100 dark:border-slate-700 p-4 pl-8 text-slate-500 dark:text-slate-400">
                                    {{ form_widget(possibleQuery.answer, {
                                        'attr':{
                                            'class':'w-full h-full outline-0',
                                            'rows':10,
                                            'readonly':true
                                        }
                                    })}}    
                                </td>
                            </tr>
                        {% endfor %}
                    </tbody>
                </table>
                </div>
            </div>
            {{form_end(form)}}
            
        </div>
        {% set questionTemplateNumber = questionTemplateNumber + 1 %}
        
    
{% endblock %}